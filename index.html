<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#f5f0e8">
  <link rel="manifest" href="data:application/manifest+json,%7B%22name%22%3A%22Bus%20Schedule%22%2C%22short_name%22%3A%22Bus%22%2C%22display%22%3A%22standalone%22%2C%22orientation%22%3A%22portrait%22%2C%22background_color%22%3A%22%23f5f0e8%22%2C%22theme_color%22%3A%22%23f5f0e8%22%7D">
  <title>Bus Departures</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="https://early.webawesome.com/webawesome@3/dist/styles/theme.css" />
  <link rel="stylesheet" href="styles.css" />
  <script type="module" src="https://early.webawesome.com/webawesome@3/dist/webawesome.loader.js"></script>
</head>
<body>
  <div id="app">
    <!-- Title -->
    <div id="title-bar">
      <i class="fa-solid fa-bus-side title-bar-icon"></i>
      <h1>Bus Departures<br>(巴士開出時間)</h1>
    </div>

    <!-- PART 1: Timeline -->
    <div id="timeline-container">
      <div class="label-spacer">
        <div id="timeline-current-date" class="timeline-current-date"></div>
      </div>
      <div id="timeline-scroll-wrapper">
        <div id="timeline-track"></div>
      </div>
    </div>

    <!-- PART 2: Timetable -->
    <div id="timetable-container">
      <div class="timetable-row" id="row-hanley">
        <div class="row-label" data-map-url="https://maps.app.goo.gl/GudiET4GEzgkctaj8" tabindex="0" role="button" aria-label="Show Hanley Villa location on map">
          <i class="fa-solid fa-tree-city row-label-icon"></i>
          <span class="stop-en">Hanley Villa</span>
          <span class="stop-zh">恆麗園</span>
        </div>
        <div class="row-scroll-wrapper">
          <div class="row-track" id="track-hanley"></div>
        </div>
      </div>

      <div class="timetable-row" id="row-mtr">
        <div class="row-label" data-map-url="https://maps.app.goo.gl/kFh9BX4YQxbaGaTf8" tabindex="0" role="button" aria-label="Show MTR location on map">
          <i class="fa-solid fa-train row-label-icon"></i>
          <span class="stop-en">MTR</span>
          <span class="stop-zh">港鐡荃灣站</span>
        </div>
        <div class="row-scroll-wrapper">
          <div class="row-track" id="track-mtr"></div>
        </div>
      </div>

      <div class="timetable-row" id="row-market">
        <div class="row-label" data-map-url="https://maps.app.goo.gl/qd8prxwNGAiiBtFg6" tabindex="0" role="button" aria-label="Show Market Place location on map">
          <i class="fa-solid fa-basket-shopping row-label-icon"></i>
          <span class="stop-en">Market Place</span>
          <span class="stop-zh">荃灣街市</span>
        </div>
        <div class="row-scroll-wrapper">
          <div class="row-track" id="track-market"></div>
        </div>
      </div>
    </div>

    <!-- PART 3: Nav Bar -->
    <div id="navbar">
      <button class="nav-btn" id="btn-home" aria-label="Home">
        <i class="fa-solid fa-house"></i>
      </button>
    </div>
  </div>

  <!-- Tooltip when clicking a departure cell (remaining time from red line) -->
  <div id="cell-tooltip" class="cell-tooltip" aria-live="polite"></div>

  <!-- Map modal: click row-label to show bus stop location. To use iframe: set data-map-src to the embed URL from Google Maps (Share → Embed a map). If empty, opens Google Maps in a new tab. -->
  <div id="map-modal" class="map-modal" role="dialog" aria-modal="true" aria-label="Bus stop location">
    <div class="map-modal-backdrop"></div>
    <div class="map-modal-box">
      <button type="button" class="map-modal-close" aria-label="Close map">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <iframe id="map-iframe" class="map-iframe" title="Bus stop map"></iframe>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
